"""
Message templates for user responses
"""
from datetime import datetime
from typing import Optional, Dict, Any


class Messages:
    """All message templates"""
    
    # Registration messages
    REGISTRATION_START = """
üöö *–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–¥–∏—Ç–µ–ª—è*

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –§–ò–û (–ø–æ–ª–Ω–æ–µ –∏–º—è):
"""
    
    @staticmethod
    def registration_name_success(name: str) -> str:
        return f"""
‚úÖ –§–ò–û: {name}

–¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à –ª–∏—á–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:
"""
    
    @staticmethod
    def registration_phone_success() -> str:
        return "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –≤–∞—à–µ–π –º–∞—à–∏–Ω—ã:"
    
    @staticmethod
    def registration_complete(name: str, phone: str, truck: str) -> str:
        return f"""
üéâ *–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!*

üìã *–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:*
üë§ –§–ò–û: {name}
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +{phone}
üöõ –ú–∞—à–∏–Ω–∞: {truck}

–û—Ç–ø—Ä–∞–≤—å—Ç–µ *1* –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –≥—Ä—É–∑–∞
–û—Ç–ø—Ä–∞–≤—å—Ç–µ *0* –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
"""
    
    # Menu messages
    @staticmethod
    def main_menu_unregistered() -> str:
        return """
‚ùå –í—ã –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ.

–û—Ç–ø—Ä–∞–≤—å—Ç–µ *–¥–∞* –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
"""
    
    @staticmethod
    def main_menu_registered(name: str, truck: str) -> str:
        return f"""
üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {name}!
üöõ –í–∞—à–∞ –º–∞—à–∏–Ω–∞: {truck}

*–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:*

1Ô∏è‚É£ - –ù–æ–≤—ã–π –æ—Ç—á–µ—Ç –æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–∏
2Ô∏è‚É£ - –ò–∑–º–µ–Ω–∏—Ç—å –Ω–æ–º–µ—Ä –º–∞—à–∏–Ω—ã
3Ô∏è‚É£ - –ü–µ—Ä–µ–æ—Ñ–æ—Ä–º–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
0Ô∏è‚É£ - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
"""
    
    # Report messages
    @staticmethod
    def enter_client() -> str:
        return "üë§ –í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞:"
    
    @staticmethod
    def enter_weight() -> str:
        return "‚öñÔ∏è –í–≤–µ–¥–∏—Ç–µ –≤–µ—Å –º–∞—à–∏–Ω—ã (–≤ –∫–≥):"
    
    @staticmethod
    def enter_photo() -> str:
        return """
üì∏ –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –ø–æ–∫–∞–∑–∞–Ω–∏–π –≤–µ—Å–æ–≤ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ *–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å* –µ—Å–ª–∏ —Ñ–æ—Ç–æ –Ω–µ—Ç
"""
    
    @staticmethod
    def invalid_number() -> str:
        return "‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 15000)"
    
    @staticmethod
    def negative_weight() -> str:
        return "‚ö†Ô∏è –í–µ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ:"
    
    @staticmethod
    def confirmation_report(data: Dict[str, Any]) -> str:
        """Format confirmation report"""
        return f"""
üìã *–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞*

üìÖ –î–∞—Ç–∞: {datetime.now().strftime('%d.%m.%Y %H:%M')}
üì± –¢–µ–ª–µ—Ñ–æ–Ω: {data.get('driver_phone', '?')}
üöõ –ú–∞—à–∏–Ω–∞: {data.get('truck_number', '?')}
üë§ –ö–ª–∏–µ–Ω—Ç: {data.get('client_name', '?')}

‚öñÔ∏è –í–µ—Å –Ω–æ–≤—ã–π: {data.get('current_weight', 0):.0f} –∫–≥
‚öñÔ∏è –í–µ—Å –ø—Ä–µ–¥—ã–¥—É—â–∏–π: {data.get('previous_weight', 0):.0f} –∫–≥
üìä –†–∞–∑–Ω–∏—Ü–∞: {data.get('weight_difference', 0):+.0f} –∫–≥

–ù–∞–ø–∏—à–∏—Ç–µ *–¥–∞* –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
–ù–∞–ø–∏—à–∏—Ç–µ *–Ω–µ—Ç* –¥–ª—è –æ—Ç–º–µ–Ω—ã
"""
    
    @staticmethod
    def report_saved() -> str:
        return """
‚úÖ *–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!*

–û—Ç–ø—Ä–∞–≤—å—Ç–µ *1* –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –≥—Ä—É–∑–∞
–û—Ç–ø—Ä–∞–≤—å—Ç–µ *0* –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
"""
    
    @staticmethod
    def report_cancelled() -> str:
        return """
‚ùå –û—Ç—á–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω.

–û—Ç–ø—Ä–∞–≤—å—Ç–µ *1* –¥–ª—è –Ω–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
–û—Ç–ø—Ä–∞–≤—å—Ç–µ *0* –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
"""
    
    @staticmethod
    def truck_updated(truck: str) -> str:
        return f"‚úÖ –ù–æ–º–µ—Ä –º–∞—à–∏–Ω—ã –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ *{truck}*\n\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ *0* –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é"
    
    @staticmethod
    def unknown_command() -> str:
        return "‚ùì –ù–µ –ø–æ–Ω–∏–º–∞—é –∫–æ–º–∞–Ω–¥—É. –û—Ç–ø—Ä–∞–≤—å—Ç–µ *0* –¥–ª—è –º–µ–Ω—é"
    
    @staticmethod
    def error_occurred(error: str) -> str:
        return f"‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {error}\n\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ *0*"